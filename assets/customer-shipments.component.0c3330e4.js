var A=Object.defineProperty;var S=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var g=(s,e,t)=>e in s?A(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,y=(s,e)=>{for(var t in e||(e={}))L.call(e,t)&&g(s,t,e[t]);if(S)for(var t of S(e))k.call(e,t)&&g(s,t,e[t]);return s};import{_ as C,s as D,F as i,C as T,r as a,o as l,c as _,b as d,w as r,f as V,g as U,i as h,j as x,a as F}from"./index.06d337ed.js";const M={name:"customer-shipments-list",components:{InputText:D},data(){return{customerShipmentsApiService:null,customerShipments:[],currentCustomerShipments:[],filters:{global:{value:null,matchMode:i.CONTAINS},id:{value:null,matchMode:i.EQUALS},origin:{value:null,matchMode:i.CONTAINS},pickUpDate:{value:null,matchMode:i.DATE_IS},destiny:{value:null,matchMode:i.CONTAINS},deliveryDate:{value:null,matchMode:i.CONTAINS},status:{value:null,matchMode:i.EQUALS}},columns:[{field:"id",header:"Code"},{field:"origin",header:"Origin"},{field:"pickUpDate",header:"Pick Up Date"},{field:"destiny",header:"Destiny"},{field:"deliveryDate",header:"Delivery Date"},{field:"status",header:"Status"}],tableIsLoading:!0,statuses:["Pending","In progress","Finished"]}},created(){const s=["Pending","In progress","Finished"];this.customerShipmentsApiService=new T,this.customerShipmentsApiService.findByCustomerId(this.id).then(e=>{this.customerShipments=e.data,this.currentCustomerShipments=e.data,this.$dataTransfer.clearShipmentsIds(),this.customerShipments.forEach(t=>{this.$dataTransfer.addCustomerShipmentId(t.id)}),this.customerShipments=this.customerShipments.map(t=>{const m=y({},t);return m.status=s[m.status],m}),this.currentCustomerShipments=this.customerShipments,console.log(this.customerShipments),console.log(this.$dataTransfer.shipmentsIds),console.log(this.id),this.tableIsLoading=!1})},methods:{filterContent(s){if(s==="All"){this.currentCustomerShipments=this.customerShipments;return}this.currentCustomerShipments=this.customerShipments.filter(e=>e.status===s)},changeText(){console.log("cambio")}},props:{id:Number}},B={class:"my-7 flex flex-column fz-12"},E=x("No shipments found"),O=x("Loading customer shipments. Please wait");function P(s,e,t,m,o,b){const p=a("pv-dropdown"),I=a("pv-input-text"),f=a("pv-column"),$=a("pv-button"),N=a("router-link"),w=a("pv-data-table");return l(),_("div",B,[d(w,{filters:o.filters,"onUpdate:filters":e[0]||(e[0]=n=>o.filters=n),value:o.currentCustomerShipments,responsiveLayout:"stack",dataKey:"id",paginator:!0,rows:10,loading:o.tableIsLoading,filterDisplay:"menu"},{empty:r(()=>[E]),loading:r(()=>[O]),default:r(()=>[(l(!0),_(V,null,U(o.columns,n=>(l(),h(f,{header:n.header,field:n.field,key:n.field},{filter:r(({filterModel:u,filterCallback:v})=>[n.field==="status"?(l(),h(p,{key:0,modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,onChange:c=>v(),options:o.statuses,placeholder:"Any",class:"p-column-filter",style:{"min-width":"14rem"},maxSelectedLabels:1},null,8,["modelValue","onUpdate:modelValue","onChange","options"])):(l(),h(I,{key:1,type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,onInput:c=>v(),class:"p-column-filter",placeholder:`Search by name - ${u.matchMode}`},null,8,["modelValue","onUpdate:modelValue","onInput","placeholder"]))]),_:2},1032,["header","field"]))),128)),d(f,{exportable:!1,style:{"min-width":"8rem"}},{body:r(n=>[d(N,{to:`/customers/${this.id}/shipments/${n.data.id}/shipment-detail`},{default:r(()=>[d($,{icon:"pi pi-eye",class:"p-button-text p-button-rounded"})]),_:2},1032,["to"])]),_:1})]),_:1},8,["filters","value","loading"])])}var Q=C(M,[["render",P]]);const j={name:"shipments-component",components:{CustomerShipmentsList:Q},methods:{filterData(){this.$refs.customerShipmentList.filterContent(this.$refs.customerShipmentFilter.selectedItem)}},props:{id:Number}},z={class:"container"},K={class:"flex flex-column space-between align-items-center",style:{"max-width":"80rem",width:"100%",margin:"0 auto","min-height":"90vh"}};function q(s,e,t,m,o,b){const p=a("customer-shipments-list");return l(),_("div",z,[F("div",K,[d(p,{ref:"customerShipmentList",id:this.id},null,8,["id"])])])}var J=C(j,[["render",q]]);export{J as default};
