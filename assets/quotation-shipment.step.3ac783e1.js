import{r as a}from"./index.esm.f61aadb8.js";import{u as b}from"./index.esm.93a3b1b7.js";import{_ as w,r as u,o as y,i as V,w as g,a as i,b as n,n as d,k as r,v as m,l as k,p as q,e as D}from"./index.06d337ed.js";const S={name:"step-quotation",setup:()=>({v$:b()}),data(){return{submitted:!1,origin:"",destination:"",quantity:1,weight:null,length:null,width:null,height:null,packageTypes:["Componentes Electronico","Documentacion","Miselanium"],packageType:"",departments:[]}},validations(){return{origin:{required:a},destination:{required:a},quantity:{required:a},weight:{required:a},length:{required:a},width:{required:a},height:{required:a},packageType:{required:a}}},created(){this.getTokenAndDepartments()},methods:{getTokenAndDepartments(){fetch("https://www.universal-tutorial.com/api/getaccesstoken",{headers:{Accept:"application/json","api-token":"Cl2AlebkLSSWAvcRolpYARgzGAzlh_yAckEc5PRaLjUl8O8b61TqDQjXhjH-81hB7ZU","user-email":"jesu102012@gmail.com"}}).then(t=>t.json()).then(t=>{console.log("Token received"),console.log(t),this.getDepartments(t.auth_token)}).catch(t=>{console.error(t)})},getDepartments(t){fetch("https://www.universal-tutorial.com/api/states/Peru",{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then(s=>s.json()).then(s=>{console.log("Departments received"),console.log(s),this.departments=s.map(p=>p.state_name)}).catch(s=>{console.error(s)})},nextPage(){this.$emit("next-page",{formData:{origin:this.origin,destination:this.destination,quantity:this.quantity,weight:this.weight,width:this.width,height:this.height,length:this.length,packageType:this.packageType},pageIndex:0})},handleSubmit(t){if(this.submitted=!0,t){let s=(this.height+this.width+this.length)/5e3,p=s>this.weight?s:this.weight;this.nextPage(p)}}}},l=t=>(q("data-v-4e309e67"),t=t(),D(),t),x=l(()=>i("div",{class:"text-center"},"Quote your shipment",-1)),T=l(()=>i("div",{class:"text-center"}," Among the thousands of companies on the platform ",-1)),A={class:"p-fluid"},U={class:"field m-2"},j=l(()=>i("label",{for:"origin",class:"font-bold"},"Origin",-1)),P={class:"p-error"},E={class:"field m-2"},$=l(()=>i("label",{for:"destination",class:"font-bold"},"Destination",-1)),B={class:"p-error"},C={class:"field m-2"},I=l(()=>i("label",{for:"Package type",class:"font-bold"},"Package type",-1)),W={class:"p-error"},z={class:"md:flex"},L={class:"field m-2 md:w-full"},Q=l(()=>i("label",{for:"quantity",class:"font-bold"},"Quantity (Units)",-1)),H={class:"p-error"},O={class:"field m-2 md:w-full"},R=l(()=>i("label",{for:"weight",class:"font-bold"},"Weight",-1)),F={class:"p-error"},M={class:"md:flex"},N={class:"field m-2"},G=l(()=>i("label",{for:"large",class:"font-bold"},"Length",-1)),X={class:"p-error"},Y={class:"field m-2"},Z=l(()=>i("label",{for:"witch",class:"font-bold"},"Witch",-1)),J={class:"p-error"},K={class:"field m-2"},ee=l(()=>i("label",{for:"height",class:"font-bold"},"Height",-1)),te={class:"p-error"},ie={class:"field m-2"};function se(t,s,p,oe,e,v){const c=u("pv-dropdown"),h=u("pv-input-number"),_=u("pv-button"),f=u("pv-card");return y(),V(f,{class:"border-none shadow-none bg-transparent"},{title:g(()=>[x]),subtitle:g(()=>[T]),content:g(()=>[i("form",{onSubmit:s[8]||(s[8]=k(o=>v.handleSubmit(!t.v$.$invalid),["prevent"]))},[i("div",A,[i("div",U,[j,n(c,{modelValue:e.origin,"onUpdate:modelValue":s[0]||(s[0]=o=>e.origin=o),class:d({"p-invalid":t.v$.origin.$invalid&&e.submitted}),options:e.departments,id:"origin",placeholder:"Select the department origin"},null,8,["modelValue","class","options"]),r(i("small",P,"Origin is required.",512),[[m,!t.v$.origin.$model&&e.submitted]])]),i("div",E,[$,n(c,{id:"destination",options:e.departments,modelValue:e.destination,"onUpdate:modelValue":s[1]||(s[1]=o=>e.destination=o),placeholder:"Select the department destination",class:d({"p-invalid":t.v$.destination.$invalid&&e.submitted})},null,8,["options","modelValue","class"]),r(i("small",B,"Destination is required.",512),[[m,!t.v$.destination.$model&&e.submitted]])]),i("div",C,[I,n(c,{id:"Package type",options:e.packageTypes,modelValue:e.packageType,"onUpdate:modelValue":s[2]||(s[2]=o=>e.packageType=o),placeholder:"Select the type of package",class:d({"p-invalid":t.v$.destination.$invalid&&e.submitted})},null,8,["options","modelValue","class"]),r(i("small",W,"Destination is required.",512),[[m,!t.v$.destination.$model&&e.submitted]])]),i("div",z,[i("div",L,[Q,n(h,{id:"quantity",modelValue:e.quantity,"onUpdate:modelValue":s[3]||(s[3]=o=>e.quantity=o),class:d({"p-error":t.v$.quantity.$invalid&&e.submitted}),mode:"decimal",min:1,max:100},null,8,["modelValue","class"]),r(i("small",H,"Destination is required.",512),[[m,!t.v$.quantity.$model&&e.submitted]])]),i("div",O,[R,n(h,{id:"weight",modelValue:e.weight,"onUpdate:modelValue":s[4]||(s[4]=o=>e.weight=o),class:d({"p-error":t.v$.weight.$invalid&&e.submitted}),placeholder:"Example: 10 kg",min:.01,max:1e3,suffix:" kg",minFractionDigits:2,maxFractionDigits:2},null,8,["modelValue","class","min","max"]),r(i("small",F,"Weight is required.",512),[[m,!t.v$.weight.$model&&e.submitted]])])]),i("div",M,[i("div",N,[G,n(h,{min:.01,max:2100,placeholder:"Example: 5 cm",id:"large",suffix:" cm",modelValue:e.length,"onUpdate:modelValue":s[5]||(s[5]=o=>e.length=o),class:d({"p-error":t.v$.length.$invalid&&e.submitted})},null,8,["min","modelValue","class"]),r(i("small",X,"Length is required.",512),[[m,!t.v$.length.$model&&e.submitted]])]),i("div",Y,[Z,n(h,{min:.01,max:2100,placeholder:"Example: 2 cm",id:"witch",suffix:" cm",modelValue:e.width,"onUpdate:modelValue":s[6]||(s[6]=o=>e.width=o),class:d({"p-error":t.v$.width.$invalid&&e.submitted})},null,8,["min","modelValue","class"]),r(i("small",J,"Witch is required.",512),[[m,!t.v$.width.$model&&e.submitted]])]),i("div",K,[ee,n(h,{min:.01,max:2100,placeholder:"Example: 3 cm",id:"height",suffix:" cm",modelValue:e.height,"onUpdate:modelValue":s[7]||(s[7]=o=>e.height=o),class:d({"p-error":t.v$.height.$invalid&&e.submitted})},null,8,["min","modelValue","class"]),r(i("small",te,"Height is required.",512),[[m,!t.v$.height.$model&&e.submitted]])])]),i("div",ie,[n(_,{class:"p-button-info text-white bg-button w-full",label:"Quotation",type:"submit"})])])],32)]),_:1})}var de=w(S,[["render",se],["__scopeId","data-v-4e309e67"]]);export{de as default};
